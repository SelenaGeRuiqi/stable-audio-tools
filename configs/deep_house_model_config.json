{
  "model_type": "diffusion_cond",
  "sample_size": 882000,
  "sample_rate": 44100,
  "audio_channels": 2,
  "model": {
    "type": "dit",
    "config": {
      "io_channels": 64,
      "patch_size": 1,
      "embed_dim": 1536,
      "cond_token_dim": 768,
      "project_cond_tokens": false,
      "global_cond_dim": 1536,
      "depth": 24,
      "num_heads": 24,
      "mlp_ratio": 4.0,
      "cond_dropout_prob": 0.1,
      "double_layers": true,
      "sigma_min": 0.3,
      "sigma_max": 500,
      "sigma_data": 1.0
    }
  },
  "pretransform": {
    "type": "autoencoder",
    "iterate_batch": true,
    "config": {
      "encoder": {
        "type": "oobleck",
        "config": {
          "in_channels": 2,
          "channels": 128,
          "c_mults": [
            1,
            2,
            4,
            8
          ],
          "strides": [
            2,
            4,
            8,
            8
          ],
          "latent_dim": 64,
          "use_snake": true
        }
      },
      "decoder": {
        "type": "oobleck",
        "config": {
          "out_channels": 2,
          "channels": 128,
          "c_mults": [
            1,
            2,
            4,
            8
          ],
          "strides": [
            2,
            4,
            8,
            8
          ],
          "latent_dim": 64,
          "use_snake": true,
          "final_tanh": false
        }
      },
      "bottleneck": {
        "type": "vae"
      },
      "latent_dim": 64,
      "downsampling_ratio": 2048,
      "io_channels": 2
    }
  },
  "conditioning": {
    "configs": [
      {
        "id": "prompt",
        "type": "t5",
        "config": {
          "t5_model_name": "google/t5-v1_1-base",
          "max_length": 512,
          "enable_grad": false
        }
      },
      {
        "id": "seconds_start",
        "type": "number",
        "config": {
          "min_val": 0,
          "max_val": 512
        }
      },
      {
        "id": "seconds_total",
        "type": "number",
        "config": {
          "min_val": 0,
          "max_val": 512
        }
      }
    ],
    "cond_dropout_prob": 0.1
  },
  "training": {
    "learning_rate": 1e-05,
    "batch_size": 1,
    "grad_accum_every": 4,
    "num_epochs": 50,
    "save_every": 500,
    "sample_every": 1000,
    "demo_every": 2000,
    "optimizer_configs": {
      "diffusion": {
        "optimizer": {
          "type": "AdamW",
          "config": {
            "lr": 1e-05,
            "betas": [
              0.9,
              0.999
            ],
            "weight_decay": 0.01
          }
        },
        "scheduler": {
          "type": "InverseLR",
          "config": {
            "inv_gamma": 20000,
            "power": 1.0,
            "warmup": 0.99
          }
        }
      }
    }
  },
  "demo": {
    "demo_every": 2000,
    "demo_steps": 50,
    "demo_cfg_scale": 7.0,
    "demo_conditioning": [
      {
        "prompt": "deep house music, 124 BPM, warm rolling bassline, lush atmospheric pads",
        "seconds_start": 0,
        "seconds_total": 20
      },
      {
        "prompt": "deep house track, 123 BPM, organic bass groove, sophisticated harmonies",
        "seconds_start": 0,
        "seconds_total": 20
      },
      {
        "prompt": "house music, 125 BPM, four-on-the-floor pattern, ethereal ambience",
        "seconds_start": 0,
        "seconds_total": 20
      }
    ]
  }
}